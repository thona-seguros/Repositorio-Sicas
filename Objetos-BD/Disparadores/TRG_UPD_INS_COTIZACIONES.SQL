CREATE OR REPLACE TRIGGER SICAS_OC.TRG_UPD_INS_COTIZACIONES
BEFORE INSERT OR UPDATE
ON SICAS_OC.COTIZACIONES
REFERENCING NEW AS New OLD AS Old
FOR EACH ROW
DECLARE
   nCodPaquete COTIZACIONES.CodPaquete%TYPE;
BEGIN
   SELECT CodPaquete
   INTO   nCodPaquete
   FROM   PAQUETE_COMERCIAL
   WHERE  DescPaquete = :NEW.CodPaqComercial;
   --
   :NEW.CodPaquete := nCodPaquete;
EXCEPTION
WHEN OTHERS THEN
      :NEW.CodPaquete := NULL;
END TRG_UPD_COTIZACIONES;



/
