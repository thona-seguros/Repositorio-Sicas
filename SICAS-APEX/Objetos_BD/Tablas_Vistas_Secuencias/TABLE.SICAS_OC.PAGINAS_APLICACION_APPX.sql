--JIBARRA_04-ENE-2023 <ARCHIVO DE CONTROL DE CREACION DE LA TABLA SICAS_OC.PAGINAS_APLICACION_APPX PARA EL REQUERIMIENTO DE CONTROL DE ACCESOS EN APEX, NUEVO SISTEMA DE SICAS>
--##SE ELIMINAN EL SINONIMO Y LA TABLA
DROP PUBLIC SYNONYM PAGINAS_APLICACION_APPX;

DROP TABLE SICAS_OC.PAGINAS_APLICACION_APPX CASCADE CONSTRAINTS;

/
--##SE CREA LA TABLA SICAS_OC.PAGINAS_APLICACION_APPX
CREATE TABLE SICAS_OC.PAGINAS_APLICACION_APPX(CODCIA         	NUMBER          NOT NULL        --CODIGO DE COMPANIA
											--**,CODGRUPO       	VARCHAR2(20)    NOT NULL        --CODIGO DE GRUPO QUE ORGANIZA A LOS USUARIOS
											--**,WORKSPACE			VARCHAR2(20)    NOT NULL        --ESPACIO DE TRABAJO EN EL QUE SE UBICA LA APLICACION
											,IDAPLICACION      	NUMBER   		NOT NULL        --IDENTIFICADOR NUMERICO Y UNICO DE LA APLICACION
											,IDPAGINA      		NUMBER   		NOT NULL        --IDENTIFICADOR NUMERICO Y UNICO DE LA PAGINA DE LA APLICACION
											,ORDER_ENTRY		NUMBER			NOT NULL		--IDENTIFICADOR NUMERICO PARA EL ORDEN DEL MENU, AQUELLOS QUE SE REPIDEN CORRESPONDEN A SUBMENUS
											,NIVEL				NUMBER			NOT NULL		--IDENTIFICADOR DEL NIVEL PARA CREAR EL MENU Y/O SUBMENU
											,NOMBRE_PAGINA		VARCHAR2(100)	NOT NULL		--NOMBRE DESCRIPTIVO DE LA PAGINA DE LA APLICACION 
											,TITULO_PAGINA		VARCHAR2(100)	NOT NULL		--TITULO DESCRIPTIVO DE LA PAGINA DE LA APLICACION 
											,LINK_PAGINA  		VARCHAR2(50)    NOT NULL     	--URL/REFERENCIA DE ACCESO A LA PAGINA DE LA APLICACION
											,LOGO_PAGINA   		VARCHAR2(50)    NOT NULL     	--NOMBRE/IDENTIFICADOR DEL LOGO/IMAGEN QUE PERMITE IDENTIFICAR A PAGINA DE LA APLICACION
											,FLAG_VISIBLE		VARCHAR2(2)		NOT NULL		--BANDERA QUE DETERMINA SI ESTA PERMITIDO EL ACCESO A LA PAGINA DE LA APLICACION [S (SI), N (NO)]
											,USUARIO_ALTA		VARCHAR2(50)	NOT NULL	    --CAMPO DE CONTROL/AUDITORIA, USUARIO QUE CREA EL REGISTRO
											,FECHA_ALTA			DATE			NOT NULL	    --CAMPO DE CONTROL/AUDITORIA, FECHA EN QUE SE CREA EL REGISTRO
											,USUARIO_MOD		VARCHAR2(50)	NOT NULL	    --CAMPO DE CONTROL/AUDITORIA, USUARIO QUE MODIFICA EL REGISTRO
											,FECHA_MOD			DATE			NOT NULL	    --CAMPO DE CONTROL/AUDITORIA, FECHA EN QUE SE MODIFICA EL REGISTRO
											)TABLESPACE TS_SICASOC;

/
--##SE CREA INDICE UNICO PARA LA TABLA
CREATE UNIQUE INDEX SICAS_OC.PAGINAS_APLICACION_APPX_IDX1 ON SICAS_OC.PAGINAS_APLICACION_APPX (CODCIA, IDAPLICACION, IDPAGINA, ORDER_ENTRY, NIVEL) TABLESPACE IDX_SICASOC;

--##ALTER TABLE DE PRIMARY KEY AND FOREIGN KEY
ALTER TABLE SICAS_OC.PAGINAS_APLICACION_APPX ADD CONSTRAINT PK_PAGINAS_APLICACION_APPX PRIMARY KEY (CODCIA, IDAPLICACION, IDPAGINA, ORDER_ENTRY, NIVEL) USING INDEX;
ALTER TABLE SICAS_OC.PAGINAS_APLICACION_APPX ADD CONSTRAINT FK_PAGINAS_APLICACION_APPX FOREIGN KEY (CODCIA, IDAPLICACION) REFERENCES SICAS_OC.APLICACIONES_APPX(CODCIA, IDAPLICACION) ON DELETE CASCADE;


--##COMENTARIOS DESCRIPTIVOS DE LAS COLUMNAS
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.CODCIA 				IS 'CODIGO DE COMPANIA';
--**COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.CODGRUPO 			IS 'CODIGO DE GRUPO QUE ORGANIZA A LOS USUARIOS';
--**COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.WORKSPACE 			IS 'ESPACIO DE TRABAJO EN EL QUE SE UBICA LA APLICACION';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.IDAPLICACION 		IS 'IDENTIFICADOR NUMERICO Y UNICO DE LA APLICACION';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.IDPAGINA 			IS 'IDENTIFICADOR NUMERICO Y UNICO DE LA PAGINA DE LA APLICACION';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.ORDER_ENTRY 			IS 'IDENTIFICADOR NUMERICO PARA EL ORDEN DEL MENU, AQUELLOS QUE SE REPIDEN CORRESPONDEN A SUBMENUS';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.NIVEL 				IS 'IDENTIFICADOR DEL NIVEL PARA CREAR EL MENU Y/O SUBMENU';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.NOMBRE_PAGINA 		IS 'NOMBRE DESCRIPTIVO DE LA PAGINA DE LA APLICACION ';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.TITULO_PAGINA 		IS 'TITULO DESCRIPTIVO DE LA PAGINA DE LA APLICACION';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.LINK_PAGINA			IS 'URL/REFERENCIA DE ACCESO A LA PAGINA DE LA APLICACION';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.LOGO_PAGINA 			IS 'NOMBRE/IDENTIFICADOR DEL LOGO/IMAGEN QUE PERMITE IDENTIFICAR A PAGINA DE LA APLICACION';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.FLAG_VISIBLE 		IS 'BANDERA QUE DETERMINA SI ESTA PERMITIDO EL ACCESO A LA PAGINA DE LA APLICACION [S (SI), N (NO)]';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.USUARIO_ALTA 		IS 'CAMPO DE CONTROL/AUDITORIA, USUARIO QUE CREA EL REGISTRO';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.FECHA_ALTA 			IS 'CAMPO DE CONTROL/AUDITORIA, FECHA EN QUE SE CREA EL REGISTRO';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.USUARIO_MOD 			IS 'CAMPO DE CONTROL/AUDITORIA, USUARIO QUE MODIFICA EL REGISTRO';
COMMENT ON COLUMN SICAS_OC.PAGINAS_APLICACION_APPX.FECHA_MOD 			IS 'CAMPO DE CONTROL/AUDITORIA, FECHA EN QUE SE MODIFICA EL REGISTRO';

/
--##GRANTÂ´s
GRANT DELETE, INSERT, SELECT, UPDATE ON SICAS_OC.PAGINAS_APLICACION_APPX TO PUBLIC;

/
--##SINONIMO
CREATE OR REPLACE PUBLIC SYNONYM PAGINAS_APLICACION_APPX FOR SICAS_OC.PAGINAS_APLICACION_APPX;
